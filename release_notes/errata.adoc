[#errata-updates]
= Errata updates

By default, Errata updates are automatically applied when released. See link:../install/upgrade_hub.adoc#upgrading-by-using-the-operator[Upgrading by using the operator] for more information.

*Important:* For reference, link:https://access.redhat.com/errata/#/[Errata] links and GitHub numbers might be added to the content and used internally. Links that require access might not be available for the user. 

== Errata 2.1.1

View a summarized list of {product-title} Errata 2.1.1 updates:

* Increased VMware managed cluster default worker node values (4 CPU, 2 core, 16384 MB memory) to align with other providers. (GitHub 6206)

* Fixed an issue that caused policies to display a `noncompliant` status. (GitHub 6630)

* Fixed an issue in which the *Merge updates* option changed to `unset` after closing, modifying, and reopening an application. (GitHub 6349)

* Enabled the `packageOverrides` YAML content for the Git `kustomization.yaml` file to use the path that is identified in the annotation of hte subscription by default. (GitHub 6476)

* Fixed an issue that prevented subscription overrides from working when multiple subscriptions shared the same Git channel with the same branch. (GitHub 6476)

* Added instructions for applying a fix to work around a failed application creation from a private Git repository. (GitHub 6952) (link:https://bugzilla.redhat.com/show_bug.cgi?id=1896341[Bugzilla 1896341])

* Fixed an issue where policies using the `musthave` compliance type on a list of objects behaved similarly to the `mustonlyhave` compliance type. You can now specify as few as one field in a list of objects, and a `musthave` policy marks it as compliant as long as one object in the list has a field that matches the one specified in the policy. (GitHub 6492)

* Created the `placementrule` annotation, which fixed an issue that prevented the topology from displaying the correct nodes after it deployed a `helm` type application to `local-cluster` using subscription annotation. You can now deploy all types of applications to `local-cluster`, using `placementrule` annotations. (GitHub 6400)

* Fixed an issue that caused the `merge update` setting to clear after selecting the setting when creating the application with the *Create* wizard , then opening it in an editor. (GitHub 6554)

* Fixed an issue in which the application topology incorrectly showed that resources were deployed successfully on remote clusters, when the remote clusters are offline and not accessible.

** The application topology Cluster node shows a failed status if any remote clusters are offline.

** The application topology doesn't show resource status information in the object properties dialog for clusters that are offline. (GitHub 6298)

* Fixed the issue when the create resources page temporarily displays the following error when you detach a managed cluster:
+
----
Error occured while retrieving clusters info. Not found
----
(GitHub 6299)

* Updated the `certificate` and `iam` policy controllers to fix an issue that prevented them from correctly maintaining the history of policy violations. (GitHub 6014)

* Fixed an issue that prevented the complete destroying or detaching of a Microsoft Azure managed cluster after the addition of the cluster failed. (GitHub 6353)

* Fixed an issue that prevented the `klusterlet-addon-controller` from being recognized when it is in a namespace other than the `open-cluster-management` namespace. (GitHub 6986)

* Corrected a PATH error when starting a new Visual Web Terminal session to use `/usr/local/bin` which is the directory with allowed command for the restricted bash shell. (GitHub 6928)

* Fixed an issue that required a pull secret in the `open-cluster-management-observability` namespace to successfully install the observability components, which is not required for {product-title-short} when you are only managing clusters that were created by {ocp} or {product-title-short}. With this change, users don't need to create a pull secret to install the observability components. (GitHub 6911)

* Exposed the following additional metrics with the {product-title-short} observability components for persistent volumes:

** `kubelet_volume_stats_available_bytes`
** `kubelet_volume_stats_capacity_bytes`
** `kube_persistentvolume_status_phase`
+
These metrics are not explicitly exposed in any dashboards or alert rules, but you can query them and set custom alert rules for them. (GitHub 6891)

* Completed other general changes and bug fixes to code and documentation that are not listed.
