[#creating-allow-deny-list]
== Creating an allow and deny list as subscription administrator
 
As a subscription administrator, you can create an application from a Git or Object store repository that contains an `allow` list to allow deployment of `policy.open-cluster-management.io/v1` resources. You can also create a `deny` list in the application subscription to allow deployment of only specific resources.

By default, every user that can add resources to Git or Object storage repositories becomes a `cluster-admin` by adding policies. To avoid this default behavior, application subscription needs the following criteria:

- The application is deployed by a subscription administrator.
- The application subscription contains `allow` list to allow deployment of `policy.open-cluster-management.io/v1` resources.

See the following example of `allow` and `deny` specifications:

[source,yaml]
----
apiVersion: apps.open-cluster-management.io/v1
kind: Subscription
metadata:
  annotations:
    apps.open-cluster-management.io/github-path: sub2
  name: demo-subscription
  namespace: demo-ns
spec:
  channel: demo-ns/somechannel
  allow:
  - apiVersion: policy.open-cluster-management.io/v1
    kinds:
    - Policy
  - apiVersion: v1
    kinds:
    - Deployment
  deny:
  - apiVersion: v1
    kinds:
    - Service
    - ConfigMap
  placement:
    local: true
----

The following application subscription YAML specifies that when the application is deployed from the `myapplication` directory from the source repository, it deploys only `v1/Deployment` resources, even if there are other resources in the source repository:

[source,yaml]
----
apiVersion: apps.open-cluster-management.io/v1
kind: Subscription
metadata:
  annotations:
    apps.open-cluster-management.io/github-path: myapplication
  name: demo-subscription
  namespace: demo-ns
spec:
  channel: demo-ns/somechannel
  deny:
  - apiVersion: v1
     kinds:
      - Service
      - ConfigMap
  placement:
    placementRef:
      name: demo-placement
      kind: PlacementRule
----

This example application subscription YAML specifies deployments of all valid resources except `v1/Service` and `v1/ConfigMap` resources. Instead of listing individual resource kinds within an  API group, you can add `"*"` to allow or deny all resource kinds in the API Group.