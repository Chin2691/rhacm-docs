[#trouble-cluster-remove-namespace]
= Namespace remains after deleting a cluster

When you remove a managed cluster, the namespace is normally removed as part of the cluster removal process. In rare cases, the namespace remains with some artifacts in it. In that case, you must manually remove the namespace.

[#symptom-trouble-cluster-remove-namespace]
== Symptom: Namespace remains after deleting a cluster

After removing a managed cluster, the namespace is not removed.

[#resolving-trouble-cluster-remove-namespace]
== Resolving the problem: Namespace remains after deleting a cluster

Complete the following steps to remove the namespace manually:

. Run the following command to list the items that remain in the namespace:
+
----
oc api-resources --verbs=list --namespaced -o name \
  | xargs -n 1 oc get --show-kind --ignore-not-found -n <cluster-name>
----
+
Replace _cluster-name_ with the name of the cluster that you attempted to remove.

. Remove any finalizers on the list by entering the following command:
+
----
????
----
CD: How do you identify finalizers???

. Check the list for the following types of resources:
  * `kind:secret`
  * `kind:serviceaccount`
  * `kind:managedclusteraddon`
  * `kind:role`
  * `kind:rolebinding`
  * `kind:manifestwork`
  * `kind:lease`
  * `kind:managedclusterinfo`

. Delete any of the resources that do not already show the status of: `Delete`.

. Delete the namespace by entering the following command:
+
----
oc delete ns <cluster-name>
----
+
Replace _cluster-name_ with the name of the cluster that you are trying to delete. 